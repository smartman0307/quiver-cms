<md-whiteframe class="md-whiteframe-z1 relative" layout="column" layout-fill flex>
  <div layout="row" layout-align="start center" layout-padding>
    <md-input-container flex>
      <label for="list-search">Search by Title</label>
      <input id="list-search" type="text" ng-model="searchTerm" qv-enter="search({orderByChild: 'title', startAt: searchTerm})">
    </md-input-container>

    <md-input-container flex>
        <label for="slug">Search by Slug</label>
        <input id="slug" type="text" ng-model="query.slug" qv-enter="query.type = ''; search(getSlugQuery(query.slug));">
    </md-input-container>  

    <md-input-container flex>
        <label for="filter">Filter</label>
        <input id="filter" type="text" ng-show="items.length" ng-model="authorFilter" ng-focus="authorFilter = ''" placeholder="Search..."/>
    </md-input-container>

    <div class="md-select-wrapper">
      <md-select class="margin-zero" flex ng-model="query.type" ng-change="query.slug = undefined; search(getTypeQuery(query.type));" placeholder="Filter by Type" style="margin-top: 3px;">
        <md-option value="">All Types</md-option>
        <md-option value="post">Post</md-option>
        <md-option value="page">Page</md-option>
        <md-option value="subscription">Subscription</md-option>
      </md-select>
    </div>

    

    <span flex></span>
    
    <md-button class="md-icon-button" flex ng-click="loadNext(undefined, {limitToLast: limit, endAt: endAt(items)})" ng-disabled="disablePrev" aria-label="list back">
      <i class="mdi-navigation-arrow-back"></i>
    </md-button>
    
    <md-button class="md-icon-button" flex ng-click="loadPrev(undefined, {limitToLast: limit, startAt: startAt(items)})" ng-disabled="disableNext" aria-label="list forward">
      <i class="mdi-navigation-arrow-forward"></i>
    </md-button>
    
    <md-button class="md-icon-button" flex ng-click="loadMore()" ng-disabled="disableMore" aria-label="list load more">
      <i class="mdi-navigation-expand-more"></i>
    </md-button>
    
    <md-button class="md-icon-button" flex ng-click="reset({orderByPriority: true, limitToLast: limit})" ng-disabled="disableReset" aria-label="list reload">
      <i class="mdi-navigation-refresh"></i>
    </md-button>

  </div>

  <md-content>
    <md-list layout="column" ng-if="!items">
      <md-item>
        <md-item-content class="text-center" layout="row" layout-align="center center" layout-padding layout-wrap>
          <h3 class="Headline">There are no more words to display.</h3>
        </md-item-content>
      </md-item>
    </md-list>
        
    <section>
      <md-list layout="column">
        <md-item ng-repeat="word in items | filter:authorFilter | orderBy:'-$priority'">
          <md-item-content layout="row" layout-align="space-between center" layout-padding layout-wrap style="padding-top: 23px;">
<!--             <div class="md-select-wrapper" flex="25" flex-sm="100">
              <md-select ng-model="word.author.$id" ng-change="updateAuthor(word)" placeholder="Select an author...">
                <md-option value="{{ user.$id }}" ng-repeat="user in moderators">{{ user.public.name || user.public.email || user.email }}</md-option>
              </md-select>
            </div> -->
            
            <!-- <div flex="20">
              <span>{{ word.author.name || word.author.email }}</span>
              <span class="cursor-pointer text-xx-small" ng-hide="isAuthor(word.author, user.public)" ng-click="makeAuthor(word, user)">claim</span>
            </div> -->

            <span flex="25" flex-sm="100">{{ word.author.name || word.author.email || "No author"}}</span>
            <span flex="25" flex-sm="100">{{ word.title }}</span>
            <!-- <span flex="25">{{ word.slug }}</span> -->
            <md-input-container flex="25" flex-sm="100" style="margin-top: -23px;">
              <label for="priority-{{ $index }}">Priority</label>
              <input id="priority-{{ $index }}" type="number" ng-model="word.$priority" ng-change="setPriority(word.$id, word.$priority)" ng-model-options="{debounce: {'default': 500}}">
            </md-input-container>

            <!-- 
            <md-input-container flex="30">
              <label for="title-{{ $index }}">Title</label>
              <input id="title-{{ $index }}" type="text" ng-model="word.title" ng-change="word.edited = true;">
            </md-input-container>
            
            <md-input-container flex="30">
              <label for="slug-{{ $index }}">Slug</label>
              <input id="slug-{{ $index }}" type="text" ng-model="word.slug" ng-change="word.edited = true;">
            </md-input-container> -->

            <i class="mdi-editor-publish md-button-padding" flex ng-class="{'text-success': word.published}" style="max-width: 3rem;"></i>

            <md-button class="md-raised md-primary md-icon-button adjust-mdi" flex ui-sref="authenticated.master.admin.word({key: word.$id})" aria-label="Edit {{ word.title }}">
              <i class="mdi-editor-mode-edit"></i>
            </md-button>

            <md-button class="md-raised md-warn md-icon-button" flex ng-hide="word.edited" ng-click="confirmDelete($event, word)" aria-label="Delete {{ word.title }}">
              <i class="mdi-action-delete"></i>
            </md-button>

            <!-- <md-divider flex="100"></md-divider>
            
            <md-select class="margin-zero" flex="20" ng-model="word.type" ng-change="word.edited = true">
              <md-option value="">Select Type</md-option>
              <md-option value="post">Post</md-option>
              <md-option value="page">Page</md-option>
              <md-option value="subscription">Subscription</md-option>
            </md-select>

            

            <md-input-container flex="20">
              <label for="priority-{{ $index }}">Priority</label>
              <input id="priority-{{ $index }}" type="number" ng-show="word.type == 'post' || word.type == 'subscription'" ng-model="word.$priority" ng-model-options="{debounce: {'default': 500}}" ng-change="word.edited = true; setPriority(word.$id, word.$priority)"/>
            </md-input-container>

            <span flex="20">{{ word.created | moment:"MM/DD/YY" }}</span>

            <md-chips flex="100" ng-model="word.getSetHashtags" ng-model-options="{getterSetter: true}" ng-change="handleHashtagChange(word)" md-autocomplete-snap>
              <md-autocomplete
                md-selected-item="selectedHashtag" 
                md-search-text="chipSearchText" 
                md-no-cache="true"
                md-items="hashtag in searchHashtags(chipSearchText, word.hashtags)" 
                md-item-text="hashtag.value"
                md-selected-item-change="selectedItemChange(selectedHashtag, word)"
                placeholder="Add hashtag..."
              >
                
                <span md-highlight-text="chipSearchText" md-highlight-flags="^i">{{ hashtag.value }}</span>
              </md-autocomplete>
              <md-chip-template>
                <strong>{{ $chip.value }}</strong>
              </md-chip-template>
            </md-chips>

            <span flex="100">{{ word.hashtags }}</span> -->

          </md-item-content>
          <md-divider ng-if="!$last"></md-divider>
        </md-item>
      </md-list>
    </section>
  </md-content>
</md-whiteframe>
<!-- 
<div class="column small-12 medium-4">
    <label>Order By Type</label>
    <select ng-model="query.type" ng-change="query.slug = undefined; reset(getTypeQuery(query.type));">
        <option value="">All Types</option>
        <option value="post">Post</option>
        <option value="page">Page</option>
        <option value="subscription">Subscription</option>
    </select>
</div>

<div class="column small-12 medium-4">
    <label>Order By Slug</label>
    <input type="text" ng-model="query.slug" qv-enter="query.type = ''; reset(getSlugQuery(query.slug));" placeholder="Slug (click ENTER to search)...">
</div>

<div class="column small-12 medium-4">
    <label>Filter Results</label>
    <input type="text" ng-show="items.length" ng-model="authorFilter" ng-focus="authorFilter = ''" placeholder="Search..."/>
</div>

<div class="column small-12">
  <ul class="table-list hover padded striped">
    <li ng-repeat="word in items | filter:authorFilter | orderBy:'-$priority'">
      <div class="small-12">
        <div class="column small-12 medium-3">
          <span>{{ word.author.name || word.author.email }}</span>
          <span class="cursor-pointer text-xx-small" ng-hide="isAuthor(word.author, user.public)" ng-click="makeAuthor(word, user)">claim</span>
        </div>
        <div class="column small-12 medium-6">
          <div>
            <strong><a ui-sref="authenticated.master.admin.word({key: word.$id})">{{ word.title }}</a></strong>
          </div>
          <div>
            <span class="cursor-pointer" contenteditable="true" ng-model="word.slug" ng-change="word.edited = true;">{{ word.slug }}</span>
          </div>
        </div>
        <div class="column small-12 medium-3 medium-text-right">
          <button class="tiny margin-zero" style="min-width: 7rem;" ng-show="word.edited" ng-click="saveItem(saveWord(word));">Save</button>
          <button class="tiny alert margin-zero" style="min-width: 7rem;" ng-hide="word.edited" qv-confirm="removeItem(word)" confirmations="['Really???', 'Last chance!']" qv-confirm>Delete</button>  
        </div>
       
      </div>

      <div class="column small-12">
        <hr>
      </div>
      

      <div class="column small-12">
        <div class="column small-12 medium-2">
          <select class="margin-zero" style="min-width: 5rem;" ng-model="word.type" ng-change="word.edited = true">
              <option value="">Select Type</option>
              <option value="post">Post</option>
              <option value="page">Page</option>
              <option value="subscription">Subscription</option>
          </select>
        </div>
        <div class="column small-12 medium-2">
          <input class="margin-zero-important" type="text" placeholder="Hashtag..." ng-model="newHashtag" qv-enter="saveItem(addHashtag(word, newHashtag)); newHashtag = null;" qv-type-ahead include="hashtags" exclude="word.hashtags" prepopulate="true" top-offset="-1"/>
        </div>
        <div class="column small-12 medium-5">
          <ul class="inline-list margin-zero-important text-x-small">
              <li class="cursor-pointer" ng-repeat="hashtag in word.hashtags" ng-click="saveItem(removeHashtag(word, hashtag.key));">#{{ hashtag.value }}</li>
          </ul>
          &nbsp;
        </div>
        <div class="column small-12 medium-2">
          <input class="margin-zero-important" ng-show="word.type == 'post' || word.type == 'subscription'" type="number" ng-model="word.$priority" ng-model-options="{debounce: {'default': 500}}" ng-change="word.edited = true; setPriority(word.$id, word.$priority)" placeholder="Priority"/>
          &nbsp;
        </div>
        <div class="column small-12 medium-3 medium-text-right">
          <div>
            <span class="text-x-small" ng-show="word.published">
                Published: {{ word.published.published | moment:"MM/DD/YY" }}
                <a class="link-highlight0 link-hover-secondary0 margin-horizontal-xx-small" ng-click="unpublishWord(word)">X</a>
            </span>
            <span ng-hide="word.published">
                <a ui-sref="authenticated.master.admin.word({key: word.$id})">Publish</a>
            </span>
          </div>
          <div>
            <span class="text-x-small">Created: {{ word.created | moment:"MM/DD/YY" }}</span>
          </div>
          
        </div>

      </div>  

    </li>
    <li class="no-stripe no-hover padding-small" ng-show="items.length || paginating">
        <div class="column small-4">
          <button class="secondary small-12 tiny" ng-click="loadNext(undefined, {limitToLast: limit, endAt: endAt(items)})" ng-disabled="false">Previous {{ limit }}</button>&nbsp;
        </div>
        <div class="column small-4">
          <button class="secondary small-12 tiny" ng-click="reset({orderByPriority: true, limitToLast: limit})" ng-disabled="!paginating">Reset</button>
        </div>
        <div class="column small-4">
          <button class="secondary small-12 tiny" ng-click="loadPrev(undefined, {limitToLast: limit, startAt: startAt(items)})" ng-disabled="false">Next {{ limit }}</button>
        </div>
    </li>
  </ul>
</div>
 -->