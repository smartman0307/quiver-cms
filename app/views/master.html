<div layout="row" flex>
  
  <md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')" ui-view="sidenavLeft"></md-sidenav>
  
  <div id="content" layout="column" flex layout-align="start center" layout-fill>
    
    <md-toolbar md-scroll-shrink layout="row">
      <md-button ng-click="toggleSidenav('left')" hide-gt-md tabindex="0" aria-label="toggle left nav">
        <i class="mdi-action-subject"></i>
      </md-button>
      <div class="md-toolbar-tools">
        <div layout="row" flex class="fill-height">
          <h1 layout-align="left" class="headline">
            <a href="{{ env.root }}" qv-to-static ng-show="settings">{{ settings.siteTitle || 'Quiver CMS' }}</a>
          </h1>

          <span flex></span>

          <div layout-align="right" class="md-toolbar-item" ng-show="$storage.cart.productCount" qv-active>
            <md-button ui-sref="master.nav.cart" aria-label="shopping cart">
              <span class="headline" ng-bind="$storage.cart.productCount"></span>
              <i class="mdi-action-shopping-cart" style="position: relative; top: 1px;"></i>
            </md-button>
          </div>

          <div layout-align="right" class="md-toolbar-item" ng-show="!currentUser">
            <span class="margin-horizontal-small" qv-active>
              <md-button class="md-button" ui-sref="master.nav.login">
                <i class="mdi-action-input"></i> &nbsp;Login        
              </md-button>
            </span>
            <span qv-active>
              <md-button ui-sref="master.nav.register">
                &nbsp;Register
              </md-button>
            </span>
            
            
          </div>

          <div layout-align="right" class="md-toolbar-item" ng-if="showTOC()">
            <md-button class="adjust-mdi" ng-click="toggleSidenav('right')" tabindex="0" aria-label="toggle right nav">
              <i class="mdi-action-book"></i>
              <span hide-sm>Table of Contents</span>
              <span hide-gt-sm>TOC</span>
            </md-button>
          </div>

        </div>

      </div>
    </md-toolbar>

    <md-content class="md-padding" flex layout-fill qv-background-image="settings.loginImage" states="['master.nav.login', 'master.nav.register', 'master.nav.reset']" style="height: 100vh;">
      <div flex layout="column" layout-align="center center" layout-fill ui-view="body"></div>
      <span qv-autoscroll scroll-on="scrollToBottom"></span>
    </md-content>

  </div>

  <md-sidenav layout="column" class="md-sidenav-right md-whiteframe-z2" md-component-id="right" ui-view="sidenavRight"></md-sidenav>

</div>